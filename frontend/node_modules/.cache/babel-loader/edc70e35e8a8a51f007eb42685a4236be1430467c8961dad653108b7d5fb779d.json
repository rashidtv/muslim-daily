{"ast":null,"code":"import{useState,useEffect}from'react';export const usePWAInstall=()=>{const[deferredPrompt,setDeferredPrompt]=useState(null);const[isInstallable,setIsInstallable]=useState(false);useEffect(()=>{const handler=e=>{e.preventDefault();setDeferredPrompt(e);setIsInstallable(true);};window.addEventListener('beforeinstallprompt',handler);return()=>{window.removeEventListener('beforeinstallprompt',handler);};},[]);const installApp=async()=>{if(deferredPrompt){deferredPrompt.prompt();const{outcome}=await deferredPrompt.userChoice;if(outcome==='accepted'){setDeferredPrompt(null);setIsInstallable(false);}}};return{isInstallable,installApp};};","map":{"version":3,"names":["useState","useEffect","usePWAInstall","deferredPrompt","setDeferredPrompt","isInstallable","setIsInstallable","handler","e","preventDefault","window","addEventListener","removeEventListener","installApp","prompt","outcome","userChoice"],"sources":["C:/Users/Rashid/muslim-daily/frontend/src/hooks/usePWAInstall.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport const usePWAInstall = () => {\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n  const [isInstallable, setIsInstallable] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handler = (e) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e);\r\n      setIsInstallable(true);\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handler);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handler);\r\n    };\r\n  }, []);\r\n\r\n  const installApp = async () => {\r\n    if (deferredPrompt) {\r\n      deferredPrompt.prompt();\r\n      const { outcome } = await deferredPrompt.userChoice;\r\n      \r\n      if (outcome === 'accepted') {\r\n        setDeferredPrompt(null);\r\n        setIsInstallable(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return { isInstallable, installApp };\r\n};"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGJ,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACK,aAAa,CAAEC,gBAAgB,CAAC,CAAGN,QAAQ,CAAC,KAAK,CAAC,CAEzDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAM,OAAO,CAAIC,CAAC,EAAK,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,iBAAiB,CAACI,CAAC,CAAC,CACpBF,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,CAEDI,MAAM,CAACC,gBAAgB,CAAC,qBAAqB,CAAEJ,OAAO,CAAC,CAEvD,MAAO,IAAM,CACXG,MAAM,CAACE,mBAAmB,CAAC,qBAAqB,CAAEL,OAAO,CAAC,CAC5D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAIV,cAAc,CAAE,CAClBA,cAAc,CAACW,MAAM,CAAC,CAAC,CACvB,KAAM,CAAEC,OAAQ,CAAC,CAAG,KAAM,CAAAZ,cAAc,CAACa,UAAU,CAEnD,GAAID,OAAO,GAAK,UAAU,CAAE,CAC1BX,iBAAiB,CAAC,IAAI,CAAC,CACvBE,gBAAgB,CAAC,KAAK,CAAC,CACzB,CACF,CACF,CAAC,CAED,MAAO,CAAED,aAAa,CAAEQ,UAAW,CAAC,CACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}